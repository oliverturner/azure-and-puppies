<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="./styles.css">
  <title>Azure &amp; Puppies</title>
</head>

<body>
  <figure class="gallery">
    <div class="gallery__frame displaytext loading">
      loading mobilenet neural network
    </div>
    <figcaption class="gallery__caption">
      <div class="gallery__caption__inner"></div>
    </figcaption>
    <div class="controls">
      <div class="controls__buttons">
        <button class="controls__btn" data-topic="azure">Azure</button> +
        <button class="controls__btn" data-topic="puppy">Puppies</button> +
        <button class="controls__btn" data-topic="happy">I'm Fine</button>
      </div>
      <form id="search" class="controls__search" action="#">
        <label class="visually-hidden" for="search__field">Custom topic:</label>
        <input class="search__field" id="search__field" placeholder="Custom topic" name="topic">
        <button class="controls__btn controls__btn--search">Search</button>
      </form>
    </div>
  </figure>
  <script src="https://unpkg.com/@tensorflow/tfjs@0.10.3"></script>
  <script src="https://unpkg.com/@tensorflow-models/mobilenet@0.0.1"></script>
  <script type="module">
    import Gallery from "./gallery.js";

    document.addEventListener("DOMContentLoaded", async () => {
      const btn = document.querySelector(".controls__btn")

      new Gallery({
        model: await window.mobilenet.load(),
        endpoint: topic => `https://source.unsplash.com/random/800x800/?${topic}`,
        initialTopic: btn.dataset.topic
      });
    }); 
  </script>
</body>

</html>